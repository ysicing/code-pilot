# 🤖 智能路由规则

> 分析工具的关键词自动触发机制

## 🔍 关键词匹配规则

### `/ask` - 架构咨询触发词
```
核心词：架构、设计、系统、实施、方案
技术词：微服务、单体、分布式、可扩展性、高并发
组件词：数据库、缓存、消息队列、API网关
动作词：如何设计、怎样构建、系统方案
```

### `/ultrathink` - 决策分析触发词
```
选择词：选择、对比、比较、vs、还是、或者
分析词：权衡、评估、分析、考虑、判断
成本词：成本、价格、ROI、投资回报、预算
决策词：决定、决策、选型、采用、优先级
```

### `/think-harder` - 深度分析触发词
```
分析词：深入分析、深度分析、详细分析、全面分析
问题词：问题分析、根因分析、故障排查、性能问题
风险词：风险评估、安全分析、威胁分析、漏洞评估
评估词：代码审查、架构审查、设计审查、质量评估
```

### `/think-ultra` - 战略研究触发词
```
战略词：战略、策略、长期规划、技术路线、发展规划
趋势词：趋势、发展趋势、技术趋势、未来发展、演进
理论词：理论、模型、哲学、思想、原理、机制
思考词：深度思考、系统思考、跨学科、多维度
```

## 🎯 组合推荐逻辑

### 常见组合模式

**技术选型 + 架构设计：**
```
触发：选择 + 架构 → 推荐 /ultrathink → /ask
示例："React vs Vue 项目架构" → /ultrathink + /ask
```

**架构设计 + 风险分析：**
```
触发：设计 + 风险 → 推荐 /ask → /think-harder  
示例："微服务架构风险评估" → /ask + /think-harder
```

**完整决策流程：**
```
触发：选择 + 架构 + 风险 → 推荐完整工具链
示例："技术栈选择架构风险" → /ultrathink → /ask → /think-harder
```

## 📋 实现检查清单

### ✅ 基础功能
- [x] 四类关键词库定义
- [x] 基础匹配算法
- [x] 工具链组合推荐
- [x] 用户友好的推荐说明

### ⏳ 优化功能  
- [ ] 上下文感知（对话历史）
- [ ] 用户偏好学习
- [ ] 动态权重调整
- [ ] 语义相似度分析

## 🚀 集成方式

### 主动推荐示例
```
用户："React vs Vue 项目选择"
系统："检测到技术选择问题，建议使用 /ultrathink 进行MECE框架分析"
```

### 智能提示示例
```
用户："微服务架构的性能风险"  
系统："建议工具链：/ask (架构方案) → /think-harder (风险分析)"
```

---

*💡 提示：这些规则会在 CLAUDE.md 中的智能路由系统部分生效*